const http = require('http');
const express = require('express');
const app = express();
app.get("/", (request, response) => {
  response.sendStatus(200);
});
app.listen(process.env.PORT);
setInterval(() => {
  http.get(`http://botc-rets1.glitch.me/`);
}, 280000);
 
// كل البكجات الي ممكن تحتجها في اي بوت
const { Client, RichEmbed } = require("discord.js");
var { Util } = require('discord.js');
const {TOKEN, YT_API_KEY, prefix, devs} = require('./config')
const client = new Client({ disableEveryone: true})
const ytdl = require("ytdl-core");
const canvas = require("canvas");
const Canvas = require("canvas");
const convert = require("hh-mm-ss")
const fetchVideoInfo = require("youtube-info");
const botversion = require('./package.json').version;
const simpleytapi = require('simple-youtube-api')
const moment = require("moment");
const fs = require('fs');
const util = require("util")
const gif = require("gif-search");
const opus = require("node-opus");
const ms = require("ms");
const jimp = require("jimp");
const { get } = require('snekfetch');
const guild = require('guild');
const dateFormat = require('dateformat');//npm i dateformat
const YouTube = require('simple-youtube-api');
const youtube = new YouTube('AIzaSyAdORXg7UZUo7sePv97JyoDqtQVi3Ll0b8');
const hastebins = require('hastebin-gen');
const getYoutubeID = require('get-youtube-id');
const yt_api_key = "AIzaSyDeoIH0u1e72AtfpwSKKOSy3IPp2UHzqi4";
const pretty = require("pretty-ms");
client.login(TOKEN);
const queue = new Map();
var table = require('table').table
const Discord = require('discord.js');
client.on('ready', function(){
    var ms = 60000 ;
    var setGame = [`${prefix}help`,`Type ${prefix}help`];
    var i = -1;
    var j = 0;
    setInterval(function (){
        if( i == -1 ){
            j = 1;
        }
        if( i == (setGame.length)-1 ){
            j = -1;
        }
        i = i+j;
        client.user.setGame(setGame[i],`http://www.twitch.tv/barontube`);
    }, ms);
    console.log(` ????????? |> Name: ${client.user.username}`);
 console.log(` ????????? |> Servers: ${client.guilds.size}`);
 console.log(` ???????????????????? |> Members: ${client.users.size}`);
 console.log(` ????????????????????? |> Channels: ${client.channels.size}`);
 console.log(` ???????????????????? |> prefix: ${prefix}`);
 console.log(` ???????????????????? |> Id: ${client.user.id}`);
 console.log(` ???????????????????`);
});
 
 
 //كود للتجربة

client.on('message', message => {
    if (message.content === "$cerole") {
    if(!message.channel.guild) return message.channel.send('**This Command Only For Servers !**')
     if (message.author.id !== message.guild.owner.user.id) return message.channel.send(`**لا تستطيع استخدام هذا الامر**`);

                     message.guild.createRole({ name: "✠✚【OWNER】✚✠", color: "#00ffad", permissions: [] })
                     message.guild.createRole({ name: "✠✚【CO-OWNER】✚✠", color: "#ff0000", permissions: [] })
                     message.guild.createRole({ name: "✠✚【MOD】✚✠", color: "#392a9e", permissions: [] })
                     message.guild.createRole({ name: "✠✚【Helper】✚✠", color: "#0900f3", permissions: [] })
                     message.guild.createRole({ name: "✠✚【MVP++】✚✠", color: "#ff520c", permissions: [] })
                     message.guild.createRole({ name: "✠✚【MVP+】✚✠", color: "#0cfffc", permissions: [] })
                     message.guild.createRole({ name: "✠✚【MVP】✚✠", color: "#0cfffc", permissions: [] })
                     message.guild.createRole({ name: "✠✚【VIP++】✚✠", color: "#21fa01", permissions: [] })
                     message.guild.createRole({ name: "✠✚【VIP+】✚✠", color: "#21fa01", permissions: [] })
                     message.guild.createRole({ name: "✠✚【VIP】✚✠", color: "#21fa01", permissions: [] })
                     message.guild.createRole({ name: "✠✚【MEMBER+】✚✠", color: "#5a6666", permissions: [] })
                     message.guild.createRole({ name: "✠✚【MEMBER】✚✠", color: "#5a6666", permissions: [] })
                     message.guild.createRole({ name: "✠✚【BOT】✚✠", color: "#5a6666", permissions: [] })
 
 
message.channel.sendMessage('** Plez Wait To Made Ranks | الرجاء الانظار ليتم صنعهم **')
}
});
 client.on("message", message => {
  let roles = message.guild.roles.find(
    all => all.name === "⇁『KiNG 』",
    "⇁『LEADER』",
    "⇁『BiG BOSS 』",
    "⇁『CAPTAIN 』",
    "⇁『SERGEANT 』",
    "⇁『youtuber 』",
    "⇁『ACTIVE 』"
  ); //Baron#1500
  if (message.content === prefix + "server game role") {
    //Baron#1500
    if (message.author.bot) return; //Baron#1500
        if (message.author.id !== message.guild.owner.user.id) return message.channel.send(`**لا تستطيع استخدام هذا الامر owner server**`);
    if (roles) return message.reply("**الرتب موجوده بالفعل**"); //Baron#1500
    let roleking = message.guild.roles.find(r => r.name === "⇁『KiNG 』‏‏༄  ❥"); //Baron#1500
    if (!roleking) {
      message.guild.createRole({
        //Baron#1500
        name: "⇁『KiNG 』",
        color: "RANDOM",
        position: 1,
        hoist: true,
        permissions: "ADMINISTRATOR"
      });
    }
    let roleleader = message.guild.roles.find(
      r => r.name === "⇁『LEADER』"
    ); //Baron#1500
    if (!roleleader) {
      message.guild.createRole({
        name: "⇁『LEADER』",
        color: "RANDOM",
        position: 2, //Baron#1500
        hoist: true,
        permissions: [
          "CREATE_INSTANT_INVITE",
          "KICK_MEMBERS",
          "BAN_MEMBERS",
          "MANAGE_CHANNELS",
          "ADD_REACTIONS",
          "VIEW_AUDIT_LOG",
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "SEND_TTS_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "READ_MESSAGE_HISTORY",
          "MENTION_EVERYONE",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "DEAFEN_MEMBERS",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "MANAGE_NICKNAMES"
        ]
      });
    }
    let rolebigboss = message.guild.roles.find(
      r => r.name === "⇁『BiG BOSS 』"
    ); //Baron#1500
    if (!rolebigboss) {
      message.guild.createRole({
        name: "⇁『BiG BOSS 』",
        color: "RANDOM",
        position: 3,
        hoist: true,
        permissions: [
          "CREATE_INSTANT_INVITE",
          "KICK_MEMBERS",
          "ADD_REACTIONS",
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "DEAFEN_MEMBERS",
          "READ_MESSAGE_HISTORY",
          "MENTION_EVERYONE",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "MANAGE_NICKNAMES"
        ]
      });
    }
    let rolecaptain = message.guild.roles.find(
      r => r.name === "⇁『CAPTAIN 』"
    ); //Baron#1500
    if (!rolecaptain) {
      message.guild.createRole({
        name: "⇁『CAPTAIN 』",
        color: "RANDOM",
        postion: 4,
        hoist: true,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "DEAFEN_MEMBERS",
          "READ_MESSAGE_HISTORY",
          "MENTION_EVERYONE",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME"
        ]
      });
    }
    let rolesergant = message.guild.roles.find(
      r => r.name === "⇁『SERGEANT 』"
    ); //Baron#1500
    if (!rolesergant) {
      message.guild.createRole({
        name: "⇁『SERGEANT 』",
        color: "RANDOM", //Baron#1500
        postion: 5,
        hoist: true, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME"
        ]
      });
    } //Baron#1500
    let roleyoutuber = message.guild.roles.find(
      r => r.name === "⇁『youtuber 』"
    );
    if (!roleyoutuber) {
      //Baron#1500
      message.guild.createRole({
        name: "⇁『youtuber 』",
        color: "RANDOM",
        postion: 6,
        hoist: true, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      });
    }
    let roleactive = message.guild.roles.find(
      r => r.name === "⇁『ACTIVE 』"
    ); //Baron#1500
    if (!roleactive) {
      //Baron#1500
      message.guild.createRole({
        name: "⇁『ACTIVE 』",
        color: "RANDOM",
        postion: 7,
        hoist: true, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK", //Baron#1500
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ] //Baron#1500
      });
      message.guild.createRole({
        //Baron#1500
        name: "Fortnite",
        color: "RANDOM", //Baron#1500
        postion: 7,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK", //Baron#1500
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ] //Baron#1500
      });
      message.guild.createRole({
        //Baron#1500
        name: "playerunknowns",
        color: "RANDOM",
        postion: 7,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ] //Baron#1500
      }); //Baron#1500
      message.guild.createRole({
        name: "counter-strike",
        color: "RANDOM", //Baron#1500
        postion: 7,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      }); //Baron#1500
      message.guild.createRole({
        name: "creative-destruction", //Baron#1500
        color: "RANDOM",
        postion: 7,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      });
      message.guild.createRole({
        //Baron#1500
        name: "overwatch",
        color: "RANDOM",
        postion: 7, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      }); //Baron#1500
      message.guild.createRole({
        name: "minecraft", //Baron#1500
        color: "RANDOM",
        postion: 7, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      }); //Baron#1500
      message.guild.createRole({
        //Baron#1500
        name: "league-of-legends",
        color: "RANDOM", //Baron#1500
        postion: 7,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      }); //Baron#1500
      message.channel.send(message.member + "**جارى انشاء الرتب**").then(m => {
        setTimeout(() => {
          //Baron#1500
          m.edit("**تم انشاء الرتب بنجاح**");
        }, 3000); //Baron#1500
      });
    } //Baron#1500
  }
}); //Baron#1500
 
client.on("message", message => {
  let roleyoutuber = message.guild.roles.find(
    r => r.name === "⇁『youtuber 』"
  );
  let rolepubg = message.guild.roles.find(r => r.name === "playerunknowns");
  let rolecsgo = message.guild.roles.find(r => r.name === "counter-strike");
  let rolecd = message.guild.roles.find(r => r.name === "creative-destruction");
  let roleow = message.guild.roles.find(r => r.name === "overwatch");
  let rolemc = message.guild.roles.find(r => r.name === "minecraft");
  let rolelol = message.guild.roles.find(r => r.name === "league-of-legends");
  let rolefortnite = message.guild.roles.find(r => r.name === "Fortnite");
  //Baron#1500
  let roles = message.guild.roles.find(
    all => all.name === "⇁『KiNG 』",
    "⇁『LEADER』",
    "⇁『BiG BOSS 』",
    "⇁『CAPTAIN 』",
    "⇁『SERGEANT 』",
    "⇁『youtuber 』",
    "⇁『ACTIVE 』"
  ); //Baron#1500
  if (message.content === prefix + "server game room") {
        if (message.author.id !== message.guild.owner.user.id) return message.channel.send(`**لا تستطيع استخدام هذا الامر owner server**`);
    if (!roles)
      return message.reply(
        `**من فضلك قم بانشاء الرتب اولا اكتب \n ${prefix}server game room**`
      ); //Baron#1500
    if (roles) {
      message.reply("**جارى انشاء الرومات**").then(c => {
        //Baron#1500
        setTimeout(() => {
          c.edit("**تم انشاء الرومات بنجاح**"); //Baron#1500
        }, 10000);
      });
      message.guild
        .createChannel(`${message.guild.name}-TEXT`, "category")
        .then(tb => {
          //Baron#1500
          message.guild.createChannel("welcome", "text").then(nws => {
            nws.setParent(tb);
            nws.overwritePermissions(message.guild.id, {
              SEND_MESSAGES: false,
              MENTION_EVERYONE: false //Baron#1500
            });
          });
          message.guild.createChannel("info", "text").then(inf => {
            //Baron#1500
            inf.setParent(tb); //Baron#1500
            inf.overwritePermissions(message.guild.id, {
              //Baron#1500
              SEND_MESSAGES: false,
              MENTION_EVERYONE: false //Baron#1500
            });
          });
          message.guild.createChannel("news", "text").then(nws => {
            //Baron#1500
            nws.setParent(tb);
            nws.overwritePermissions(message.guild.id, {
              //Baron#1500
              SEND_MESSAGES: false,
              MENTION_EVERYONE: false //Baron#1500
            });
          }); //Baron#1500
          message.guild.createChannel("chat", "text").then(cht => {
            //Baron#1500
            cht.setParent(tb);
            cht.overwritePermissions(message.guild.id, {
              MENTION_EVERYONE: false //Baron#1500
            });
          });
          message.guild.createChannel("bot-commands", "text").then(cmd => {
            //Baron#1500
            cmd.setParent(tb);
            cmd.overwritePermissions(message.guild.id, {
              //Baron#1500
              MENTION_EVERYONE: false //Baron#1500
            });
          });
          message.guild.createChannel("youtubers", "text").then(yt => {
            //Baron#1500
            yt.setParent(tb); //Baron#1500
            yt.overwritePermissions(roleyoutuber, {
              SEND_MESSAGES: true
            });
            yt.overwritePermissions(message.guild.id, {
              //Baron#1500
              SEND_MESSAGES: false,
              MENTION_EVERYONE: false
            });
          }); //Baron#1500
          message.guild.createChannel("pic", "text").then(pic => {
            //Baron#1500
            pic.setParent(tb);
            pic.overwritePermissions(message.guild.id, {
              MENTION_EVERYONE: false
            });
          });
          message.guild.createChannel("cut-tweet", "text").then(cut => {
            cut.setParent(tb);
            cut.overwritePermissions(message.guild.id, {
              MENTION_EVERYONE: false
            }); //Baron#1500
          });
        });
      message.guild.createChannel(`Games-Chat`, "category").then(tb => {
        //Baron#1500
        message.guild.createChannel("Fortnite", "text").then(wlc => {
          wlc.setParent(tb);
          wlc.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false,
            MENTION_EVERYONE: false
          }); //Baron#1500
          wlc.overwritePermissions(rolefortnite, {
            SEND_MESSAGES: true,
            MENTION_EVERYONE: false
          });
        }); //Baron#1500
        message.guild.createChannel("playerunknowns", "text").then(ch => {
          //Baron#1500
          ch.setParent(tb);
          ch.overwritePermissions(message.guild.id, {
            //Baron#1500
            SEND_MESSAGES: false,
            MENTION_EVERYONE: false
          });
          ch.overwritePermissions(rolepubg, {
            //Baron#1500
            SEND_MESSAGES: true,
            MENTION_EVERYONE: false //Baron#1500
          });
        });
        message.guild.createChannel("counter-strike", "text").then(ch => {
          //Baron#1500
          ch.setParent(tb);
          ch.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false, //Baron#1500
            MENTION_EVERYONE: false
          });
          ch.overwritePermissions(rolecsgo, {
            SEND_MESSAGES: true,
            MENTION_EVERYONE: false
          }); //Baron#1500
        });
        message.guild.createChannel("creative-destruction", "text").then(ch => {
          //Baron#1500
          ch.setParent(tb);
          ch.overwritePermissions(rolecd, {
            SEND_MESSAGES: true, //Baron#1500
            MENTION_EVERYONE: false
          });
          ch.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false,
            MENTION_EVERYONE: false
          }); //Baron#1500
        });
        message.guild.createChannel("overwatch", "text").then(ch => {
          ch.setParent(tb);
          ch.overwritePermissions(roleow, {
            SEND_MESSAGES: true,
            MENTION_EVERYONE: false
          });
          ch.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false,
            MENTION_EVERYONE: false
          });
        });
        message.guild.createChannel("minecraft", "text").then(ch => {
          ch.setParent(tb);
          ch.overwritePermissions(rolemc, {
            SEND_MESSAGES: true,
            MENTION_EVERYONE: false
          });
          ch.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false,
            MENTION_EVERYONE: false
          });
        });
        message.guild.createChannel("league-of-legends", "text").then(ch => {
          ch.setParent(tb);
          ch.overwritePermissions(rolelol, {
            SEND_MESSAGES: true,
            MENTION_EVERYONE: false
          });
          ch.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false,
            MENTION_EVERYONE: false
          });
        });
      });
      message.guild
        .createChannel(`.${message.guild.name} | 🔊 .`, "category")
        .then(tb => {
          message.guild
            .createChannel("「الـقـرأن الـكـريــم | 📜」", "voice")
            .then(ch => {
              ch.setParent(tb);
              ch.overwritePermissions(message.guild.id, {
                SPEAK: false //Baron#1500
              });
              message.guild
                .createChannel("「Events | 🎲 .」", "voice")
                .then(ch => {
                  ch.setParent(tb);
                  ch.setUserLimit(50); //Baron#1500
                  ch.overwritePermissions(message.guild.id, {
                    SPEAK: false
                    //Baron#1500
                  });
                });
            });
        });
      message.guild.createChannel(`.Talking | ✋🏽 .`, "category").then(tb => {
        message.guild
          .createChannel(`「${message.guild.name} | 🔊 .」`, "voice")
          .then(ch => {
            ch.setParent(tb);
            ch.setUserLimit(50); //Baron#1500
          });
        message.guild.createChannel("「Sounds | ♫ .」", "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(50); //Baron#1500
        });
      });
      message.guild
        .createChannel(`» Games | الالعاب .`, "category")
        .then(tb => {
          message.guild
            .createChannel(`Fortnite | فورتنآيت .`, "voice")
            .then(ch => {
              ch.setParent(tb);
              ch.overwritePermissions(message.guild.id, {
                CONNECT: false
              });
              ch.overwritePermissions(rolefortnite, {
                CONNECT: true
              });
            }); //Baron#1500
          message.guild
            .createChannel("Minecraft | مآينكرآفت", "voice")
            .then(ch => {
              ch.setParent(tb);
              ch.overwritePermissions(message.guild.id, {
                CONNECT: false
              });
              ch.overwritePermissions(rolemc, {
                CONNECT: true
              });
            }); //Baron#1500
          message.guild
            .createChannel(`Creative | كريآتف .`, "voice")
            .then(ch => {
              ch.setParent(tb);
              ch.overwritePermissions(message.guild.id, {
                CONNECT: false
              });
              ch.overwritePermissions(rolecd, {
                CONNECT: true //Baron#1500
              });
            });
          message.guild.createChannel("Legends | لوول", "voice").then(ch => {
            ch.setParent(tb);
            ch.overwritePermissions(message.guild.id, {
              CONNECT: false
            });
            ch.overwritePermissions(rolelol, {
              CONNECT: true
            });
          });
        });
      message.guild.createChannel(`» DJ | الموسيقي .`, "category").then(tb => {
        //Baron#1500
        message.guild.createChannel(`» Art.`, "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(15);
        });
        message.guild.createChannel(`» Fun.`, "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(15);
        });
        message.guild.createChannel(`» Life.`, "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(15);
        });
        message.guild.createChannel(`» Sing.`, "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(15);
        });
      });
      message.guild.createChannel(`» Privates | خآص .`, "category").then(tb => {
        //Baron#1500
        message.guild.createChannel(`» Single.`, "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(1);
        });
        message.guild.createChannel("» Doubles.", "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(2);
        });
        message.guild.createChannel("» Triples.", "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(3);
        });
        message.guild.createChannel("» Forth.", "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(4);
        });
        message.guild.createChannel("» Classic.", "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(10);
        });
        message.guild.createChannel("» Group.", "voice").then(ch => {
          ch.setParent(tb);
          ch.setUserLimit(15);
        });
      });
    }
  }
});
 
client.on("message", message => {
  let roleyoutuber = message.guild.roles.find(r => r.name === "Owner");
  let rolepubg = message.guild.roles.find(r => r.name === "Founder");
  let rolecsgo = message.guild.roles.find(r => r.name === "helper");
  let rolecd = message.guild.roles.find(r => r.name === "Discord Staff");
  let roleow = message.guild.roles.find(r => r.name === "New Staff");
  let rolemc = message.guild.roles.find(r => r.name === "Staff");
  let rolelol = message.guild.roles.find(r => r.name === "Trail Helper");
  let roledoma = message.guild.roles.find(r => r.name === "مسؤل التشهير");
  let rolepattner = message.guild.roles.find(r => r.name === "Partners");
 
  let rolefortnite = message.guild.roles.find(r => r.name === "Fortnite");
  let roles = message.guild.roles.find(
    all => all.name === "Owner",
    "Founder",
    "helper",
    "Discord Staff",
    "New Staff",
    "Staff",
    "Trail Helper",
    "مسؤل التشهير",
    "Partners"
  ); //Baron#1500
  if (message.content === prefix + "server shop role") {
    if (message.author.id !== message.guild.owner.user.id) return message.channel.send(`**لا تستطيع استخدام هذا الامر owner server**`);
    if (message.author.bot) return; //Baron#1500
    if (roles) return message.reply("**الرتب موجوده بالفعل**"); //Baron#1500
    //دى بقا الرتب ال انت عاوزو يعملها
    let roleowner = message.guild.roles.find(r => r.name === "Owner"); //Baron#1500
    if (!roleowner) {
      message.guild.createRole({
        //Baron#1500
        name: "Owner",
        color: "RANDOM",
        position: 1,
        hoist: true,
        permissions: "ADMINISTRATOR"
      });
    }
    let rolefounder = message.guild.roles.find(r => r.name === "Founder"); //Baron#1500
    if (!rolefounder) {
      message.guild.createRole({
        name: "Founder",
        color: "RANDOM",
        position: 2, //Baron#1500
        hoist: true,
        permissions: [
          "CREATE_INSTANT_INVITE",
          "KICK_MEMBERS",
          "BAN_MEMBERS",
          "MANAGE_CHANNELS",
          "ADD_REACTIONS",
          "VIEW_AUDIT_LOG",
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "SEND_TTS_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "READ_MESSAGE_HISTORY",
          "MENTION_EVERYONE",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "DEAFEN_MEMBERS",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "MANAGE_NICKNAMES"
        ]
      });
    }
    let rolehelper = message.guild.roles.find(r => r.name === "helper"); //Baron#1500
    if (!rolehelper) {
      message.guild.createRole({
        name: "helper",
        color: "RANDOM",
        position: 3,
        hoist: true,
        permissions: [
          "CREATE_INSTANT_INVITE",
          "KICK_MEMBERS",
          "ADD_REACTIONS",
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "DEAFEN_MEMBERS",
          "READ_MESSAGE_HISTORY",
          "MENTION_EVERYONE",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "MANAGE_NICKNAMES"
        ]
      });
    }
    let rolediscordstaff = message.guild.roles.find(
      r => r.name === "Discord Staff"
    ); //Baron#1500
    if (!rolediscordstaff) {
      message.guild.createRole({
        name: "Discord Staff",
        color: "RANDOM",
        postion: 4,
        hoist: true,
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "DEAFEN_MEMBERS",
          "READ_MESSAGE_HISTORY",
          "MENTION_EVERYONE",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME"
        ]
      });
    }
    let rolestaff = message.guild.roles.find(r => r.name === "Staff"); //Baron#1500
    if (!rolestaff) {
      message.guild.createRole({
        name: "Staff",
        color: "RANDOM", //Baron#1500
        postion: 5,
        hoist: true, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "MANAGE_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "MUTE_MEMBERS",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME"
        ]
      });
    } //Baron#1500
    let rolenewstaff = message.guild.roles.find(r => r.name === "New Staff");
    if (!rolenewstaff) {
      //Baron#1500
      message.guild.createRole({
        name: "New Staff",
        color: "RANDOM",
        postion: 6,
        hoist: true, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK",
          "READ_MESSAGE_HISTORY",
          "MOVE_MEMBERS",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ]
      });
    }
    let roletrailhelper = message.guild.roles.find(
      r => r.name === "Trail Helper"
    ); //Baron#1500
    if (!roletrailhelper) {
      //Baron#1500
      message.guild.createRole({
        name: "Trail Helper",
        color: "RANDOM",
        postion: 7,
        hoist: true, //Baron#1500
        permissions: [
          "VIEW_CHANNEL",
          "READ_MESSAGES",
          "SEND_MESSAGES",
          "EMBED_LINKS",
          "ATTACH_FILES",
          "CONNECT",
          "SPEAK", //Baron#1500
          "READ_MESSAGE_HISTORY",
          "USE_VAD",
          "CHANGE_NICKNAME",
          "ADD_REACTIONS"
        ] //Baron#1500
      });
      let roledoma = message.guild.roles.find(r => r.name === "مسؤل التشهير");
      if (roledoma) {
        message.guild.createRole({
          //Baron#1500
          name: "مسؤل التشهير",
          color: "RANDOM",
          postion: 7,
          permissions: [
            "VIEW_CHANNEL",
            "READ_MESSAGES",
            "SEND_MESSAGES",
            "EMBED_LINKS",
            "ATTACH_FILES",
            "CONNECT",
            "SPEAK",
            "READ_MESSAGE_HISTORY",
            "USE_VAD",
            "CHANGE_NICKNAME",
            "ADD_REACTIONS"
          ] //Baron#1500
        }); //Baron#150
        let rolepartners = message.guild.rolesfind(r => r.name === "Partners");
        if (rolepartners) {
          message.guild.createRole({
            name: "Partners",
            color: "RANDOM", //Baron#1500
            postion: 7,
            permissions: [
              "VIEW_CHANNEL",
              "READ_MESSAGES",
              "SEND_MESSAGES",
              "EMBED_LINKS",
              "ATTACH_FILES",
              "CONNECT",
              "SPEAK",
              "READ_MESSAGE_HISTORY",
              "USE_VAD",
              "CHANGE_NICKNAME",
              "ADD_REACTIONS"
            ]
          }); //Baron#1500
          message.channel
            .send(message.member + "**جارى انشاء الرتب**")
            .then(m => {
              setTimeout(() => {
                //Baron#1500
                m.edit("**تم انشاء الرتب بنجاح**");
              }, 3000); //Baron#1500
            });
        } //Baron#150
      }
    }
  }
}); //Baron#1500
 
client.on("message", message => {
  let roleyoutuber = message.guild.roles.find(r => r.name === "Owner");
  let rolepubg = message.guild.roles.find(r => r.name === "Founder");
  let rolecsgo = message.guild.roles.find(r => r.name === "helper");
  let rolecd = message.guild.roles.find(r => r.name === "Discord Staff");
  let roleow = message.guild.roles.find(r => r.name === "New Staff");
  let rolemc = message.guild.roles.find(r => r.name === "Staff");
  let rolelol = message.guild.roles.find(r => r.name === "Trail Helper");
  let roledoma = message.guild.roles.find(r => r.name === "مسؤل التشهير");
  let rolepattner = message.guild.roles.find(r => r.name === "Partners");
  let roles = message.guild.roles.find(
    all => all.name === "Owner",
    "Founder",
    "helper",
    "Discord Staff",
    "Staff",
    "New Staff",
    "Trail Helper",
    "مسؤل التشهير",
    "Partners"
  );
  if (message.content.startsWith(prefix + "create server Shop")) {
       if (message.author.id !== message.guild.owner.user.id) return message.channel.send(`**لا تستطيع استخدام هذا الامر owner server**`);
    if (!roles)
      return message.reply("**من فضلك قم بانشاء الرتب اولا اكتب $server shop role**"); //Baron#1500
    if (roles) {
      //Baron#1500
      message.reply("**جارى انشاء الرومات**").then(c => {
        //Baron#1500
        setTimeout(() => {
          c.edit("**تم انشاء الرومات بنجاح**"); //Baron#1500
        }, 10000);
      });
      message.guild.createChannel(`💕اثبت-نفسك`, "category").then(tb => {
        message.guild
          .createChannel(`اثــبــت・نــفــســك`, "text")
          .then(nws => {
            nws.setParent(tb);
            nws.overwritePermissions(message.guild.id, {
              SEND_MESSAGES: false,
              MENTION_EVERYONE: false
            });
          });
        message.guild
          .createChannel(`${message.guild.name}`, "category")
          .then(tb => {
            //Baron#1500
            message.guild.createChannel("•-أخــبــار", "text").then(nws => {
              nws.setParent(tb);
              nws.overwritePermissions(message.guild.id, {
                SEND_MESSAGES: false,
                MENTION_EVERYONE: false //Baron#1500
              });
            });
            message.guild
              .createChannel("•-الــنــصـابـيـن", "text")
              .then(inf => {
                //Baron#1500
                inf.setParent(tb); //Baron#1500
                inf.overwritePermissions(message.guild.id, {
                  //Baron#1500
                  SEND_MESSAGES: false,
                  MENTION_EVERYONE: false //Baron#1500
                });
              });
            message.guild.createChannel("•-انــجــاز", "text").then(nws => {
              //Baron#1500
              nws.setParent(tb);
              nws.overwritePermissions(message.guild.id, {
                //Baron#1500
                SEND_MESSAGES: false,
                MENTION_EVERYONE: false //Baron#1500
              });
            }); //Baron#1500
            message.guild.createChannel("•-الــتـصويــت", "text").then(cht => {
              //Baron#1500
              cht.setParent(tb);
              cht.overwritePermissions(message.guild.id, {
                MENTION_EVERYONE: false //Baron#1500
              });
            });
            message.guild.createChannel("الــرتــب", "text").then(cmd => {
              //Baron#1500
              cmd.setParent(tb);
              cmd.overwritePermissions(message.guild.id, {
                //Baron#1500
                MENTION_EVERYONE: false //Baron#1500
              });
            });
            message.guild
              .createChannel(`أســعــار・الاعــلانــات`, "category")
              .then(tb => {
                message.guild
                  .createChannel("أســعــار・الاعــلانــات", "text")
                  .then(nws => {
                    nws.setParent(tb);
                    nws.overwritePermissions(message.guild.id, {
                      SEND_MESSAGES: false,
                      MENTION_EVERYONE: false //Baron#1500
                    });
                  }); //Baron#1500
                message.guild
                  .createChannel("الاعــلانــات ", "text")
                  .then(pic => {
                    //Baron#1500
                    pic.setParent(tb);
                    pic.overwritePermissions(message.guild.id, {
                      MENTION_EVERYONE: false
                    });
                  });
                message.guild.createChannel(`بوست`, "category").then(tb => {
                  message.guild.createChannel("بوست", "text").then(nws => {
                    nws.setParent(tb);
                    nws.overwritePermissions(message.guild.id, {
                      SEND_MESSAGES: false,
                      MENTION_EVERYONE: false
                    }); //Baron#1500
                  });
                });
                message.guild.createChannel(`المتجر`, "category").then(tb => {
                  //Baron#1500
                  message.guild
                    .createChannel("المتجر-العادي", "text")
                    .then(wlc => {
                      wlc.setParent(tb);
                      wlc.overwritePermissions(message.guild.id, {
                        SEND_MESSAGES: false,
                        MENTION_EVERYONE: false
                      }); //Baron#1500
                    }); //Baron#1500
                  message.guild
                    .createChannel("•-الــطــلـبـات", "text")
                    .then(ch => {
                      //Baron#1500
                      ch.setParent(tb);
                      ch.overwritePermissions(message.guild.id, {
                        //Baron#1500
                        SEND_MESSAGES: true,
                        MENTION_EVERYONE: false
                      });
                    });
                  message.guild
                    .createChannel("تــم・بــيـع", "text")
                    .then(ch => {
                      //Baron#1500
                      ch.setParent(tb);
                      ch.overwritePermissions(message.guild.id, {
                        SEND_MESSAGES: false, //Baron#1500
                        MENTION_EVERYONE: false
                      });
                    });
                  message.guild
                    .createChannel(`•الـــعــام`, "category")
                    .then(tb => {
                      message.guild
                        .createChannel("هـــدايــا・الـشـات", "text")
                        .then(ch => {
                          tb.setParent(tb);
                          tb.overwritePermissions(message.guild.id, {
                            SEND_MESSAGES: false, //Baron#1500
                            MENTION_EVERYONE: false
                          });
                        });
                      message.guild
                        .createChannel("الــشــات・الــعــام", "text")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.overwritePermissions(message.guild.id, {
                            SEND_MESSAGES: true,
                            MENTION_EVERYONE: true
                          });
                        });
                      message.guild
                        .createChannel("اوامـــر・الــبــوت", "text")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.overwritePermissions(message.guild.id, {
                            SEND_MESSAGES: true,
                            MENTION_EVERYONE: false
                          });
                        });
                      message.guild
                        .createChannel("طــلـب・وســيـط", "text")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.overwritePermissions(message.guild.id, {
                            SEND_MESSAGES: true,
                            MENTION_EVERYONE: true
                          });
                        });
                      message.guild
                        .createChannel("・الــصــور", "text")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.overwritePermissions(message.guild.id, {
                            ATTACH_FILES: true,
                            EMBED_LINKS: true,
                            SEND_MESSAGES: false
                          });
                        });
                    });
                  message.guild
                    .createChannel(`» Privates | خآص .`, "category")
                    .then(tb => {
                      //Baron#1500
                      message.guild
                        .createChannel(`» Single.`, "voice")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.setUserLimit(1);
                        });
                      message.guild
                        .createChannel("» Doubles.", "voice")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.setUserLimit(2);
                        });
                      message.guild
                        .createChannel("» Triples.", "voice")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.setUserLimit(3);
                        });
                      message.guild
                        .createChannel("» Forth.", "voice")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.setUserLimit(4);
                        });
                      message.guild
                        .createChannel("» Classic.", "voice")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.setUserLimit(10);
                        });
                      message.guild
                        .createChannel("» Group.", "voice")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.setUserLimit(15);
                        });
                    });
                  message.guild
                    .createChannel(`GIVEAWAYS`, "category")
                    .then(tb => {
                      message.guild
                        .createChannel("مــســابـقــات", "text")
                        .then(ch => {
                          ch.setParent(tb);
                          ch.overwritePermissions(message.guild.id, {
                            SEND_MESSAGES: false,
                            MENTION_EVERYONE: true //Baron#1500
                          });
                          message.guild
                            .createChannel(
                              "مــســابـقــات-・مـدفــوعـه",
                              "text"
                            )
                            .then(ch => {
                              ch.setParent(tb); //Baron#1500
                              ch.overwritePermissions(message.guild.id, {
                                SEND_MESSAGES: false,
                                MENTION_EVERYONE: true
                                //Baron#1500
                              });
                            });
                        });
                    });
                });
              });
          });
      });
    }
  }
});
const credits = JSON.parse(fs.readFileSync("./creditsCode.json", "utf8"));
const coolDown = new Set();

client.on("message", message => {
 const args = message.content.split(' ');
  const credits = require('./creditsCode.json');
  const path = './creditsCode.json';
  const mention = message.mentions.users.first() || client.users.get(args[1]) || message.author;
  const mentionn = message.mentions.users.first() || client.users.get(args[1]);
  const author = message.author.id;
  const balance = args[2];
  const daily = Math.floor(Math.random() * 350) + 10;
 
  if(!credits[author]) credits[author] = {credits: 50};
  if(!credits[mention.id]) credits[mention.id] = {credits: 50};
  fs.writeFile(path, JSON.stringify(credits, null, 5), function(err) {if(err) console.log(err)});
 
 
  if(message.content.startsWith(prefix + "credit")) {
  if(args[0] !== `${prefix}credit` && args[0] !== `${prefix}credits`) return;
 
  if(args[2]) {
    if(isNaN(args[2]) || args[2] < 0) return message.channel.send(`:interrobang: **| ${message.author.username}, type the credit you need to transfer! **`);
    if(mention.bot) return message.channel.send(`**:heavy_multiplication_x:| ${message.content.split(' ')[1]} لم يتم العثور على**`);
    if(mention.id === message.author.id) return message.channel.send('**:heavy_multiplication_x:| لا يمكنك تحويل كردت لنفسك**');
    if(credits[author].credits < balance) return message.channel.send(`** :thinking: | ${message.author.username}, Your balance is not enough for that!**`);
    var one = Math.floor(Math.random() * 9) + 1;
    var two = Math.floor(Math.random() * 9) + 1;
    var three = Math.floor(Math.random() * 9) + 1;
    var four = Math.floor(Math.random() * 9) + 1;
 
    var number = `${one}${two}${three}${four}`;
   
    message.channel.send(`**:heavy_dollar_sign:| \`${number}\`, أكتب الرقم للأستمرار**`).then(m => {
      message.channel.awaitMessages(m => m.author.id === message.author.id, {max: 1, time: 10000}).then(c => {
        if(c.first().content === number) {
          m.delete();
          message.channel.send(`**:moneybag: | ${message.author.username}, has transferred \`${balance}\` to ${mention}**`);
          credits[author].credits += (-balance);
          credits[mention.id].credits += (+balance);
          fs.writeFile(path, JSON.stringify(credits, null, 5), function(err) {if(err) console.log(err)});
        } else if(c.first().content !== number) {
          m.delete();
          message.channel.send(`** :money_with_wings: | تم الغاء الإرسال**`);
        }
      });
    });
  }
  if(!args[2]) {
    if(mention.bot) return message.channel.send(`:interrobang:**| ${message.author.username}, I can't find** ${message.content.split(' ')[1]}**!**`);
    message.channel.send(`**${mention.username}, your :credit_card: balance is** \`$${credits[mention.id].credits}\`**.** `);
  }
 
  }
        if(args[0].toLowerCase() === `${prefix}daily`) {  
     
if(credits[message.author.id].daily != moment().format('L')) {
 
       credits[message.author.id].daily = moment().format('L');
           
 
          let ammount = (300, 500, 100, 200, 120, 150, 350, 320,220,250);
          credits[author].credits += ammount;
       
       
          message.channel.send(`**:atm: | ${message.author.username}, you received your :yen: ${ammount} daily credits!**`);
        fs.writeFile("./creditsCode.json", JSON.stringify(credits), function(e) {
            if (e) throw e;
        })
 
      }else{
      message.channel.send(`:stopwatch: : **Please cool down  ${moment().endOf('day').fromNow()}**`);
 
      }
   
        }
         
   
 
});
client.on('ready', () => {
  console.log('I\'m online')
})
client.on('message', async message => {
    if(!message.channel.guild) return;
    if (message.author.bot) return;
    if (message.author.id === client.user.id) return;
    if (message.author.equals(client.user)) return;
    if (!message.content.startsWith(prefix)) return;

    let args = message.content.slice(prefix.length).trim().split(/ +/g);
    let command = args.shift().toLocaleLowerCase();

    switch (command) {
    case "members" :

      let curOnline = message.guild.members.filter(m=> m.presence.status == 'online').size;
      let curOffline = message.guild.members.filter(m=> m.presence.status == 'offline').size;
      let curDnd = message.guild.members.filter(m=> m.presence.status == 'dnd').size;
      let curIdle = message.guild.members.filter(m=> m.presence.status == 'idle').size;
      let guildMembers = message.guild.memberCount;
      if(curOnline == 0) {
        var differenceOnline = 10;
      } else {
        var differenceOnline = curOnline/guildMembers *240;
      }

      if(curOffline == 0) {
        var differenceOffline = 10;
      } else {
        var differenceOffline = curOffline/guildMembers *240;
      }

      if(curDnd == 0) {
        var differenceDnd = 10;
      } else {
        var differenceDnd = curDnd/guildMembers *240;
      }

      if(curIdle == 0) {
        var differenceIdle = 10;
      } else {
        var differenceIdle = curIdle/guildMembers *240;
      }
        var backGroundArray = await new Array('https://cdn.probot.io/profile/ScumID-1.jpg','https://cdn.probot.io/profile/ScumID-2.jpg','https://cdn.probot.io/profile/17.png','https://cdn.probot.io/profile/boy1.jpg',
                                        'https://cdn.probot.io/profile/bg-8.png','https://cdn.probot.io/profile/breakingbad.jpg','https://cdn.probot.io/profile/03404.png','https://cdn.probot.io/profile/123123123.png','https://cdn.probot.io/profile/sdffdssdf.png',
                                        'https://cdn.probot.io/profile/walking_dead2.png','https://cdn.probot.io/profile/got2.png','https://cdn.probot.io/profile/ragnar.jpg')
        var mathBackGround = await backGroundArray[Math.floor(Math.random() * backGroundArray.length)]
        var {body: guildIcon} = await get(message.guild.iconURL({ format: 'png', dynamic: true, size: 128 }))
        var {body: backGround} = await get(mathBackGround)
        
      const buffer = await new Canvas(540, 250)
                .setGlobalAlpha(0.5)
                .setColor('#33cc99')
                .addBeveledRect(490, 47, 50, 30)
                .setColor('#A9A9A9')
                .addBeveledRect(490, 90, 50, 30)
                .setColor('#ff3333')
                .addBeveledRect(490, 133, 50, 30)
                .setColor('#ff9933')
                .addBeveledRect(490, 176, 50, 30)
                .setGlobalAlpha(1)
                .setTextAlign('center')
                .setTextFont('bold 15px Impact')
                .setColor('#000000')
                .addText(curOnline, 519, 68)
                .addText(curOffline, 519, 111)
                .addText(curDnd, 519, 154)
                .addText(curIdle, 519, 197)
                .addBeveledImage(backGround, 0, 0, 500, 250)
                .setColor('BLACK')
                .addBeveledRect(495, -2, 5, 255, 15)
                .setColor('#303030')
                .setGlobalAlpha(0.5)
                .addBeveledRect(20, 20, 460, 210, 15)
                .fill().restore()
                .setColor("white")
                .setGlobalAlpha(0.2)
                .addBeveledRect(225,47,240, 30)
                .addBeveledRect(225,90,240, 30)
                .addBeveledRect(225,133,240, 30)
                .addBeveledRect(225,176,240, 30)
                .setGlobalAlpha(1)
                .setColor('#33cc99')
                .addBeveledRect(225,47,differenceOnline, 30)
                .setColor('#A9A9A9')
                .addBeveledRect(225,90,differenceOffline, 30)
                .setColor('#ff3333')
                .addBeveledRect(225,133,differenceDnd, 30)
                .setColor('#ff9933')
                .addBeveledRect(225,176,differenceIdle, 30)
                .setColor('#FFFFFF')
                .addBeveledRect(40, 40, 170, 170, 20)
                .fill().restore()
                .addBeveledImage(guildIcon, 40, 40, 170, 170, 16)
                .save()
                .toBuffer()

    try {

    const filename = `${message.guild.name}-members.jpg`;
    const attachment = new Discord.MessageAttachment(buffer, filename);
    await message.channel.send(attachment);

 } catch (error) {
    return message.channel.send(`An error ocurred: **${error.message}**`);
  }
      break;
    }
})
